{reuse L42.is/AdamTowel02


Person:Data<><{ S name, var Size age
  read method
  Bool #invariant()
    this.name()!=S"" & this.age()>= 0Size
  }


Main:{
  Person p1=Person(name:S"Bob",age:10Size)
  Debug(p1==p1)
  Debug.test(p1 expected:S"
  '[name:"Bob", age:"10"]
  ".withoutRight())
  Debug.test(p1.with(age:20Size) expected:S"
  '[name:"Bob", age:"20"]
  ".withoutRight())

  (
    unused=Person(name:S"", age:2Size)
    catch error Data.Invariant.Fail x
      void
    Debug(S"Fail")
    )
  return ExitCode.normal()
  }
}
