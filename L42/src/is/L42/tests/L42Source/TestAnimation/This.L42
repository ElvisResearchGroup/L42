reuse [AdamTowel]
Main0=(
  Debug(S"Hello world")
  )
LoadJ=Load:{reuse[JavaServer]}
GuiJ=LoadJ(slaveName=S"miniGuiSlave{}")
JavaCode={...}

Model=Data:GuiJ.Handler:{
  mut GuiJ j
  var Size posX
  var Size posY
  class method mut This(mut GuiJ j)=This(j=j,posX=20Size,posY=75Size)
  @GuiJ.Handler mut method Void guiMsg(S msg)=(
    Debug(S"guiMsg(%msg) called")
    )
  mut method Void ping(GuiJ.Event that)=(
    var g=S"https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png"
    this.posX(\posX+1\)
    this.posY(\posY+1\)
    //this.#j().submitEvent(key='Example.RefreshEntities, id=S"base", msg=  S"%this.posX();%this.posY();15;%g")
    whoops GuiJ.Fail
    )
  }

Main=(
  j=GuiJ.#$of()
  model=Model(j=j)
  code=
    //JavaCode.opening(package=S"miniGui", name='Example,x=800Size,y=600Size,pingDelay=30Size)++
    JavaCode.opening(package=S"miniGui", name='Example,x=800Size,y=600Size)++
    JavaCode.body2()++
    JavaCode.closing()
  j.loadCode(fullName=S"miniGui.Example",code=code)
  for e in j(\['Example]) (
    Debug(e)
    //e>>model
    model.ping(e)
    )
  )