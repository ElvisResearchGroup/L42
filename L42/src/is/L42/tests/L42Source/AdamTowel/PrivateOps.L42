ClassName={
  class method S (class Any that)=S"toFix"
  class method S superInterfaces(class Any that)=S"toFix"
  }
MessageTrait=Trait:{[Message]
  method toS()=
    S"Message %(ClassName(This))(%ClassName.superInterfaces(This)):%S.nl() aa %this.text()"
  var S text
  class method mut This (S text)
  class method mut This (S that)=This(text=that) 
  class method This #from(StringBuilder stringLiteral)=This(stringLiteral.toS())  
  }
LazyMessageTrait=Trait:{
  class method This #apply()
  class method mut This #apply(This2.S that)=native{trusted:lazyMessageK} error void
  read method This2.S text()=native{trusted:get}error void
  mut method Void text(This2.S that)=native{trusted:setMsg}error void
  class method This #from(This2.StringBuilder stringLiteral)=This<:class This.#apply(that=stringLiteral.toS())
  #norm{typeDep=This,This2.S,This2.StringBuilder coherentDep=This declaresClassMethods nativeKind=LazyMessage}
  }+{[Message]
  read method S text()
  method toS()=S"Message %(ClassName(This))(%ClassName.superInterfaces(This)):%S.nl() aa %this.text()"
  }

MessageDecorator={
  class method Trait:(Trait t)=MessageTrait+t
  class method Trait:(class Trait.Lifted l)=MessageTrait+l
  class method Trait:(Library lib)=MessageTrait+lib
  }